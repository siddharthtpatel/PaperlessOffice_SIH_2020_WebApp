{% extends 'layout.html' %}
{% load static %}
{% block content %}
<!-- MDBootstrap Datatables  -->
<link href="{% static 'css/addons/datatables.min.css' %}" rel="stylesheet">
<style>
  table.dataTable thead .sorting:after,
    table.dataTable thead .sorting:before,
    table.dataTable thead .sorting_asc:after,
    table.dataTable thead .sorting_asc:before,
    table.dataTable thead .sorting_asc_disabled:after,
    table.dataTable thead .sorting_asc_disabled:before,
    table.dataTable thead .sorting_desc:after,
    table.dataTable thead .sorting_desc:before,
    table.dataTable thead .sorting_desc_disabled:after,
    table.dataTable thead .sorting_desc_disabled:before {
      bottom: .5em;
    }
</style>
  <!-- Main layout -->
  <main>
    <div class="container"></div>
        <style>
        .nav-pills .nav-link.active, .nav-pills .show>.nav-link {
            background-color: green;

          } 
        </style>
      <div class="black-text">
            <ul class="nav md-tabs nav-justified green mb-0" id="myTab" role="tablist">
                <li class="nav-item">
                  <a href="#AllApplication" class="nav-link active" data-toggle="tab"><h5 class="font-weight-500 my-1" >All Applications</h5></a>
              </li>
                  <li class="nav-item">
                      <a href="#PendingApplication" class="nav-link" data-toggle="tab"><h5 class="font-weight-500 my-1"  >Pending Applications</h5></a>
                  </li>
                  <li class="nav-item">
                      <a href="#ApprovedApplication" class="nav-link" data-toggle="tab"><h5 class="font-weight-500 my-1"  >Approved Applications</h5></a>
                  </li>
                  <li class="nav-item">
                    <a href="#RejectedApplication" class="nav-link" data-toggle="tab"><h5 class="font-weight-500 my-1"  >Rejected Applications</h5></a>
                </li>
            </ul>
        </div>
      <div class="tab-content">
          <div class="tab-pane fade show active" id="AllApplication">
            <!-- Section: Applications -->
              <section class="pb-12">
                {% if all_applications|length < 1 %}
                <div class="mt-3 container text-center">
                    <h4>You don't have any Applications!</h4>
                    <p>Please apply for Application.</p>
                </div>
                {% else %}

                   <div class="">
                    <table id="allApplicationsDT" class="table table-striped table-bordered table-sm" cellspacing="0">
                        <thead>
                          <tr class="table-success">
                            <th scope="col">Name</th>
                            <th scope="col">Submitted By</th>
                            <th scope="col">Current Stage</th>
                            <th scope="col">Date</th>
                            <th scope="col">Actions</th>
                          </tr>
                        </thead>
                          <tbody>
                          {% for application in all_applications %}
                          <tr>
                          <td>{{ application.name }}</td>
                          <td>{{ application.creatorName }}</td>
                          <td>{{ application.stage }}/{{ application.stages }}</td>
                          <td>{{ application.timestamp }}</td>
                          <td><button class="btn btn-outline-default btn-sm btn-rounded waves-effect">View</button></td>
                                </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                   </div>
                {% endif %}
              </section>
            <!-- Section: data tables -->
          </div>
          <div class="tab-pane fade" id="PendingApplication">
              <!-- Section: Applications -->
              <section class="pb-12">
               {% if pending_applications|length < 1 %}
                <div class="mt-3 container text-center">
                    <h4>You don't have any Pending Application!</h4>
                    <p>Please apply for application.</p>
                </div>
                {% else %}

                   <div class="">
                    <table id="pendingApplicationsDT" class="table table-striped table-bordered table-sm" cellspacing="0">
                        <thead>
                          <tr class="table-success">
                            <th scope="col">Name</th>
                            <th scope="col">Submitted By</th>
                            <th scope="col">Current Stage</th>
                            <th scope="col">Date</th>
                              <th scope="col">Actions</th>
                          </tr>
                        </thead>
                          <tbody>
                          {% for application in pending_applications %}
                            <tr>
                          <td>{{ application.name }}</td>
                          <td>{{ application.creatorName }}</td>
                          <td>{{ application.stage }}/{{ application.stages }}</td>
                          <td>{{ application.timestamp }}</td>
                          <td><button class="btn btn-outline-default btn-sm btn-rounded waves-effect">View</button></td>
                                </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                   </div>
                {% endif %}
              </section>  
            <!-- Section: data tables -->
          </div>
          <div class="tab-pane fade" id="ApprovedApplication">
             <!-- Section: Applications -->
              <section class="pb-12">
                {% if approved_applications|length < 1 %}
                <div class="mt-3 container text-center">
                    <h4>You don't have any Approved Application!</h4>
                    <p>Please apply for application.</p>
                </div>
                {% else %}

                   <div class="">
                    <table id="approvedApplicationsDT" class="table table-striped table-bordered table-sm" cellspacing="0">
                        <thead>
                          <tr class="table-success">
                            <th scope="col">Name</th>
                            <th scope="col">Submitted By</th>
                            <th scope="col">Current Stage</th>
                            <th scope="col">Date</th>
                              <th scope="col">Actions</th>
                          </tr>
                        </thead>
                          <tbody>
                          {% for application in approved_applications %}
                            <tr>
                          <td>{{ application.name }}</td>
                          <td>{{ application.creatorName }}</td>
                          <td>{{ application.stage }}/{{ application.stages }}</td>
                          <td>{{ application.timestamp }}</td>
                          <td><button class="btn btn-outline-default btn-sm btn-rounded waves-effect">View</button></td>
                                </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                   </div>
                {% endif %}
              </section>  
              <!-- Section: data tables -->
          </div>
          <div class="tab-pane fade" id="RejectedApplication">
            <!-- Section: Applications -->
             <section class="pb-12">
               {% if rejected_applications|length < 1 %}
                <div class="mt-3 container text-center">
                    <h4>You don't have any Application!</h4>
                    <p>Please apply for application.</p>
                </div>
                {% else %}

                   <div class="">
                    <table id="rejectedApplicationsDT" class="table table-striped table-bordered table-sm" cellspacing="0">
                        <thead>
                          <tr class="table-success">
                            <th scope="col">Name</th>
                            <th scope="col">Submitted By</th>
                            <th scope="col">Current Stage</th>
                            <th scope="col">Date</th>
                            <th scope="col">Actions</th>
                          </tr>
                        </thead>
                          <tbody>
                          {% for application in rejected_applications %}
                            <tr>
                          <td>{{ application.name }}</td>
                          <td>{{ application.creatorName }}</td>
                          <td>{{ application.stage }}/{{ application.stages }}</td>
                          <td>{{ application.timestamp }}</td>
                          <td><button class="btn btn-outline-default btn-sm btn-rounded waves-effect">View</button></td>
                                </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                   </div>
                {% endif %}
             </section>  
             <!-- Section: data tables -->
         </div>
      </div>
    </div>

  </main>
  <!-- Main layout -->
{% endblock %}
{% block scripts %}
<!-- MDBootstrap Datatables  -->
<script type="text/javascript" src="{% static 'js/addons/datatables.min.js' %}"></script>
<script>
  $(document).ready(function () {
    $('#allApplicationsDT').DataTable();
    $('#pendingApplicationsDT').DataTable();
    $('#approvedApplicationsDT').DataTable();
    $('#rejectedApplicationsDT').DataTable();
    $('.dataTables_length').addClass('bs-select');
  });
</script>
{% endblock %}